<div ng-app="codeGamed" md-theme="docs-dark">
  <md-content class="md-padding" layout="column">

    <p id="notice"><%= notice %></p>
    <div>
      <%= link_to "<md-button class='md-raised md-primary'>Sign Out Admin</md-button> ".html_safe, destroy_admin_session_path, {method: :delete} %>
      <%= link_to '<md-button class="md-raised">All Levels</md-button>'.html_safe, levels_path %>
      <%= link_to "<md-button class='md-raised'>All Badges </md-button>".html_safe, badges_path %>
      <%= link_to '<md-button class="md-raised">All Test Cases</md-button>'.html_safe, test_cases_path %>
      <%= link_to '<md-button class="md-raised md-warn">New Level</md-button>'.html_safe, new_level_path %>
      <%= link_to '<md-button class="md-raised md-warn">New Mission</md-button>'.html_safe, new_mission_path %>
      <%= link_to '<md-button class="md-raised md-warn">New Badge </md-button>'.html_safe, new_badge_path %>
      <%= link_to '<md-button class="md-raised md-warn">New Test Case</md-button>'.html_safe, new_test_case_path %>
      <%= link_to '<md-button class="md-raised md-warn">New Admin</md-button>'.html_safe, new_admin_registration_path %>
      <%= link_to '<md-button class="md-raised md-warn">Edit Admin</md-button>'.html_safe, edit_admin_registration_path %>
    </div>
    <h1>Listing Levels</h1>

    <div ng-controller="allLevelsCtrl" layout="column" ng-cloak>

      <% @levels.each do |level| %>
          <div class="lock-size" layout="row" layout-align="left">
            <md-fab-speed-dial md-open="false" md-direction="right"
                               ng-class="'md-scale'">
              <md-fab-trigger>
                <md-button aria-label="menu" class="md-fab md-warn">
                  <md-title>L:<%= level.order %> </md-title>
                </md-button>
              </md-fab-trigger>
              <md-fab-actions>
                <md-title><%= level.badge.title %></md-title>

                <table class="missions-table">
                  <thead>
                  <tr>
                    <th>ID</th>
                    <th>Level</th>
                    <th>Order</th>
                    <th>Score</th>
                    <th>Video URL</th>
                    <th colspan="1">Actions</th>
                  </tr>
                  </thead>
                  <tbody>
                  </tbody>
                  <% level.missions.order("missions.order").each do |mission| %>
                      <tr>
                        <td><%= mission.id %></td>
                        <td><%= mission.level.order %></td>
                        <td><%= mission.order %></td>
                        <td><%= mission.score %></td>
                        <td><%= mission.video_url %></td>
                        <td> <%= link_to '<md-button class="md-raised md-warn">Edit</md-button>'.html_safe, edit_mission_path(mission) %> </td>
                      </tr>
                  <% end %>
                </table>
              </md-fab-actions>
            </md-fab-speed-dial>
          </div>
      <% end %>

    </div>

  </md-content>
</div>
<script src="/form_theme.js"></script>